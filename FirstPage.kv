<FirstPage>:
    Image:
        source: "bg.png"
        size_hint: 1, 1
        pos_hint: {"center_x": .5, "center_y": .5}
        allow_stretch: True
        keep_ratio: False

    MDLabel:
        text: "CalcFlow"
        font_name: "MPoppins"
        font_size: "67sp"
        pos_hint: {"center_x": .16, "center_y": .5}
        halign: "center"
        color: 1,1,1,1 
    
    MDLabel:
        text: "Simplify Your Math"
        font_name: "LPoppins"
        font_size: "28sp"
        pos_hint: {"center_x": .1475, "center_y": .43}
        halign: "center"
        color: 1,1,1,1
    
    MDLabel:
        text: "Expressions with Ease"
        font_name: "LPoppins"
        font_size: "28sp"
        pos_hint: {"center_x": .1618, "center_y": .39}
        halign: "center"
        color: 1,1,1,1

    MDCard:
        size_hint: None, None
        size: "600dp", "600dp"
        pos_hint: {'center_x': 0.7, 'center_y': 0.48}
        elevation: 2
        md_bg_color: 44/255,41/255,68/255,255/255
        radius: [40,40,40,40]

        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10

            MDTextField:
                id: input_field
                text: root.expression
                hint_text: "Enter expression"
                size_hint_y: None
                height: "50dp"
                font_size: '18sp'
                multiline: True
                color_mode: 'accent'  # Changing text field color to accent
                text_color_normal:1,1,1,1
                text_color_focus:1,1,1,1
                line_color_normal:rgba(140,82,255,255)
                line_color_focus:rgba(140,82,255,255)
                fill_color_normal: 58/255,62/255,99/255,255/255
                fill_color_focus: 58/255,62/255,99/255,255/255
            GridLayout:
                cols: 4
                spacing: 10

                MDRectangleFlatButton:
                    text: '1'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)  # Setting button background color
                    font_size: '50sp'  # Adjusting font size
                    padding: [10, 10]  # Adding padding

                MDRectangleFlatButton:
                    text: '2'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '3'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '+'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '4'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '5'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '6'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '-'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '7'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '8'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '9'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '*'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '('
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '0'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" # Setting button text color
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: ')'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" 
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

                MDRectangleFlatButton:
                    text: '/'
                    on_release: root.add_to_expression(self.text)
                    text_color: "white" 
                    md_bg_color: rgba(140,82,255,255)
                    font_size: '50sp'
                    padding: [10, 10]

        BoxLayout:
            size_hint_y: None
            height: "50dp"
            spacing: 10
            padding: [10, 0]

            MDRectangleFlatButton:
                text: 'Calculate'
                on_release: root.calculate()
                text_color: "white" # Setting button text color
                md_bg_color: rgba(85, 0, 255,255)
                font_size: '16sp'
                padding: [10, 10]

            MDRectangleFlatButton:
                text: 'Clear'
                on_release: root.clear_expression()
                text_color: "white" # Setting button text color
                md_bg_color: rgba(85, 0, 255,255)
                font_size: '16sp'
                padding: [10, 10]